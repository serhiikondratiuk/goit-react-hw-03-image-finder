{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","services/imageFinderApi.js","components/Button/Button.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","item","webformatURL","tags","largeImageURL","id","className","s","src","alt","NewLoader","wrapper","type","color","height","width","api","fetchImage","query","page","fetch","then","response","ok","json","Promise","reject","Error","LoadMoreButton","onClick","Button","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onToggle","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","modalAlt","modalUrl","createPortal","Overlay","Img","Component","Searchbar","state","searchQuery","handleQueryChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","toast","warning","onSubmit","SearchForm","onChange","autoComplete","autoFocus","placeholder","ImageGallery","gallery","error","status","showModal","fetchImages","API","hits","length","success","catch","finally","handleLoadMoreButton","options","top","behavior","pageYOffset","documentElement","clientHeight","setTimeout","scrollTo","onImageClick","imageModal","getAttribute","altModal","nodeName","toggleModal","handleFormSubmit","prevProps","prevState","message","map","elem","App","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3c81e38f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3TlzN\",\"Modal\":\"Modal_Modal__2Vnf2\",\"Img\":\"Modal_Img__1ATNg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2yi-E\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__39kCq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2tskl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__2uLCp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3E-M3\"};","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ item }) => {\n  const { webformatURL, tags, largeImageURL, id } = item;\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s[\"ImageGalleryItem-image\"]}\n        src={webformatURL}\n        alt={tags}\n        data-src={largeImageURL}\n        id={id}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import s from \"./Loader.module.css\";\nimport Loader from \"react-loader-spinner\";\nconst NewLoader = () => {\n  return (\n    <div className={s.wrapper}>\n      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default NewLoader;\n","const BASE_URL = \"https://pixabay.com/api\";\nconst API_KEY = \"23984198-d5ba81eacae48fb09d6c38179\";\n\nconst fetchImage = (query, page) => {\n  return fetch(\n    `${BASE_URL}/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`There is no photos with ${query} name`));\n  });\n};\n\nconst api = { fetchImage };\nexport default api;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst LoadMoreButton = ({ onClick }) => {\n  return (\n    <div>\n      <button onClick={onClick} className={s.Button} type=\"button\">\n        Load more\n      </button>\n    </div>\n  );\n};\n\nLoadMoreButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default LoadMoreButton;\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  static propTypes = {\n    modalUrl: PropTypes.string.isRequired,\n    modalAlt: PropTypes.string.isRequired,\n    onToggle: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onToggle();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onToggle();\n    }\n  };\n\n  render() {\n    const { modalAlt, modalUrl } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img className={s.Img} src={modalUrl} alt={modalAlt} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nimport { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleQueryChange = (e) => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    const { searchQuery } = this.state;\n    e.preventDefault();\n\n    if (searchQuery.trim() === \"\") {\n      return toast.warning(\"Enter something new...\");\n    }\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s[\"SearchForm-button\"]}>\n            <span className={s[\"SearchForm-button-label\"]}>Search</span>\n          </button>\n\n          <input\n            onChange={this.handleQueryChange}\n            className={s[\"SearchForm-input\"]}\n            value={this.state.searchQuery}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","// import PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport { toast } from \"react-toastify\";\nimport { Component } from \"react\";\nimport NewLoader from \"../Loader\";\nimport API from \"../../services/imageFinderApi\";\nimport LoadMoreButton from \"../Button\";\nimport Modal from \"../Modal\";\nimport Searchbar from \"../Searchbar\";\n\nclass ImageGallery extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    error: null,\n    status: \"idle\",\n    showModal: false,\n    modalUrl: \"\",\n    modalAlt: \"\",\n    searchQuery: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ status: \"pending\" });\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    API.fetchImage(searchQuery, page)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          toast.warning(`There is no ${searchQuery} found`);\n        }\n        if (hits.length > 0) {\n          toast.success(`New ${searchQuery} found!`);\n        }\n        this.setState(({ gallery, page }) => ({\n          gallery: [...gallery, ...hits],\n          status: \"resolved\",\n          page: page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error, status: \"rejected\" }))\n      .finally(() => {\n        this.handleLoadMoreButton();\n      });\n  };\n\n  handleLoadMoreButton = () => {\n    const options = {\n      top: null,\n      behavior: \"smooth\",\n    };\n    options.top =\n      window.pageYOffset + document.documentElement.clientHeight - 150;\n    setTimeout(() => {\n      window.scrollTo(options);\n    }, 1000);\n  };\n\n  onImageClick = (e) => {\n    e.preventDefault();\n    const imageModal = e.target.getAttribute(\"data-src\");\n    const altModal = e.target.getAttribute(\"alt\");\n\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n\n    this.setState({\n      showModal: true,\n      modalUrl: imageModal,\n      modalAlt: altModal,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery, page: 1, gallery: [] });\n  };\n\n  render() {\n    const { gallery, error, status, showModal, modalUrl, modalAlt } =\n      this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {status === \"idle\" && <h1>Enter anything you are looking for</h1>}\n        {status === \"pending\" && <NewLoader />}\n        {status === \"rejected\" && toast.error(`${error.message}`)}\n        {status === \"resolved\" && (\n          <>\n            <ul className={s.ImageGallery} onClick={this.onImageClick}>\n              {gallery.map((elem) => (\n                <ImageGalleryItem key={elem.id} item={elem} />\n              ))}\n            </ul>\n            {showModal && (\n              <Modal\n                modalUrl={modalUrl}\n                modalAlt={modalAlt}\n                onToggle={this.toggleModal}\n              />\n            )}\n            {gallery.length >= 12 && (\n              <LoadMoreButton onClick={this.fetchImages} />\n            )}\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import \"./App.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport { Component } from \"react\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <ImageGallery />\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2leoT\",\"SearchForm\":\"Searchbar_SearchForm__2rrZk\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3m06u\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3C8d6\",\"SearchForm-input\":\"Searchbar_SearchForm-input__17-dj\"};"],"sourceRoot":""}